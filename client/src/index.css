@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Variables for theming */
:root {
  --color-background: #ffffff;
  --color-background-secondary: #f9fafb;
  --color-background-tertiary: #f3f4f6;
  --color-text-primary: #111827;
  --color-text-secondary: #6b7280;
  --color-text-tertiary: #9ca3af;
  --color-border: #e5e7eb;
  --color-border-hover: #d1d5db;
  
  /* Status colors */
  --color-status-backlog: #6b7280;
  --color-status-todo: #3b82f6;
  --color-status-in-progress: #f59e0b;
  --color-status-review: #8b5cf6;
  --color-status-done: #10b981;
  
  /* Priority colors */
  --color-priority-low: #6b7280;
  --color-priority-medium: #3b82f6;
  --color-priority-high: #f59e0b;
  --color-priority-urgent: #ef4444;
}

.dark {
  --color-background: #111827;
  --color-background-secondary: #1f2937;
  --color-background-tertiary: #374151;
  --color-text-primary: #f9fafb;
  --color-text-secondary: #d1d5db;
  --color-text-tertiary: #9ca3af;
  --color-border: #374151;
  --color-border-hover: #4b5563;
}

/* Base styles */
@layer base {
  html {
    @apply scroll-smooth;
  }
  
  body {
    @apply bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100;
    background-color: var(--color-background);
    color: var(--color-text-primary);
  }
  
  * {
    @apply border-gray-200 dark:border-gray-700;
  }
  
  /* Focus styles for accessibility */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-primary-500;
  }
}

/* Component styles */
@layer components {
  /* Scrollbar styling */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--color-border) transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--color-border);
    border-radius: 3px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-border-hover);
  }
  
  /* Card hover effect */
  .card-hover {
    @apply transition-all duration-200 ease-in-out;
  }
  
  .card-hover:hover {
    @apply shadow-md transform -translate-y-0.5;
  }
  
  /* Gradient backgrounds */
  .gradient-primary {
    @apply bg-gradient-to-r from-primary-500 to-primary-600;
  }
  
  .gradient-success {
    @apply bg-gradient-to-r from-green-500 to-green-600;
  }
}

/* Utility classes */
@layer utilities {
  /* Text truncation */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.2s ease-in-out;
  }
  
  .animate-slide-up {
    animation: slideUp 0.2s ease-out;
  }
  
  .animate-slide-down {
    animation: slideDown 0.2s ease-out;
  }
  
  .animate-scale-in {
    animation: scaleIn 0.15s ease-out;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideUp {
    from { 
      opacity: 0;
      transform: translateY(10px);
    }
    to { 
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes slideDown {
    from { 
      opacity: 0;
      transform: translateY(-10px);
    }
    to { 
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes scaleIn {
    from { 
      opacity: 0;
      transform: scale(0.95);
    }
    to { 
      opacity: 1;
      transform: scale(1);
    }
  }
}

/* React Big Calendar custom styles */
.calendar-dark {
  height: 100%;
  min-height: 500px;
}

.rbc-calendar {
  @apply bg-white dark:bg-gray-800 rounded-lg;
}

.rbc-toolbar {
  @apply mb-4 flex flex-wrap gap-2 items-center justify-between;
}

.rbc-toolbar button {
  @apply bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 
         text-gray-700 dark:text-gray-200 px-3 py-1.5 rounded-md text-sm font-medium
         hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors;
}

.rbc-toolbar button.rbc-active {
  @apply bg-primary-500 text-white border-primary-500;
}

.rbc-toolbar button:focus {
  @apply outline-none ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-gray-800;
}

.rbc-header {
  @apply py-2 px-1 font-semibold text-gray-700 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50;
}

.rbc-month-view {
  @apply border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden;
}

.rbc-day-bg {
  @apply bg-white dark:bg-gray-800;
}

.rbc-off-range-bg {
  @apply bg-gray-50 dark:bg-gray-900/50;
}

.rbc-today {
  @apply bg-primary-50 dark:bg-primary-900/20;
}

.rbc-event {
  @apply px-1.5 py-0.5 rounded text-xs font-medium border-none;
}

.rbc-date-cell {
  @apply text-gray-700 dark:text-gray-300 text-sm p-1;
}

.rbc-date-cell.rbc-off-range {
  @apply text-gray-400 dark:text-gray-600;
}

.rbc-month-row {
  @apply border-b border-gray-200 dark:border-gray-700 last:border-b-0;
}

.rbc-day-slot {
  @apply border-r border-gray-200 dark:border-gray-700 last:border-r-0;
}

.rbc-event-content {
  @apply text-white;
}

.rbc-show-more {
  @apply text-primary-500 dark:text-primary-400 text-xs font-medium;
}

/* Week view styles */
.rbc-time-view {
  @apply border border-gray-200 dark:border-gray-700 rounded-lg;
}

.rbc-time-header {
  @apply border-b border-gray-200 dark:border-gray-700;
}

.rbc-time-header-content {
  @apply border-l border-gray-200 dark:border-gray-700 first:border-l-0;
}

.rbc-time-gutter {
  @apply bg-gray-50 dark:bg-gray-900/50 border-r border-gray-200 dark:border-gray-700;
}

.rbc-time-slot {
  @apply border-t border-gray-100 dark:border-gray-700;
}

.rbc-current-time-indicator {
  @apply bg-red-500;
}

/* Event popup */
.rbc-overlay {
  @apply bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg rounded-lg p-2;
}

.rbc-overlay-header {
  @apply text-gray-900 dark:text-gray-100 font-semibold text-sm mb-2;
}

/* Drag and drop styles */
.dragging {
  @apply opacity-50 cursor-grabbing;
}

.drop-target {
  @apply ring-2 ring-primary-500 ring-inset;
}

/* Recharts dark mode styles */
.recharts-wrapper {
  @apply text-gray-700 dark:text-gray-300;
}

.recharts-text {
  @apply fill-gray-700 dark:fill-gray-300;
}

.recharts-legend-item-text {
  @apply text-gray-700 dark:text-gray-300;
}

.recharts-cartesian-grid-horizontal line,
.recharts-cartesian-grid-vertical line {
  @apply stroke-gray-200 dark:stroke-gray-700;
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
}
